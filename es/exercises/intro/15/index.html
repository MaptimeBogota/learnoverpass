<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><link href="http://gmpg.org/xfn/11" rel="profile"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><title>Recursión de nodos de way</title><link rel="stylesheet" href="//maptimebogota.github.io/learnoverpass//css/main.css"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png"><link href="/favicon.png" rel="icon"><link href='https://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'><link href="" rel="alternate" type="application/rss+xml" title="LearnOverpass &middot; "/><meta name="description" content=""><meta name="keywords" content=""> </head><body><div class="exercise-contrib"><div> <a href="https://github.com/maptimebogota/learnoverpass/blob/master/CONTRIB.md">Contribute to project</a></div></div> <div class="menu-bar"><h1> <a href="//maptimebogota.github.io/learnoverpass//">LearnOverpass</a></h1></div><div class="exercise-container"><div class="exercise-lesson"><div class="exercise-lesson-bar"><div class="line">Intro</div></div><div class="exercise-lesson-inner"><div class="exercise-lesson-article"><h2> Recursión de nodos de way  <a class="docs-improve" href="https://github.com/maptimebogota/learnoverpass/edit/master/content/es/exercises/intro/15.md">Improve page</a></h2> <p>&ldquo;¡Oh! ¡Veo ese edificio!&rdquo; exclama Bob. &ldquo;Así que el cajero automático está justo al otro lado, ¿no?&rdquo;.</p>

<p>Mientras Bob caminaba hacia el edificio, se dio cuenta de una cosa importante: ¡no sabía dónde está la entrada! Parece que tenemos que escribirle otra consulta.</p>

<p>Con la consulta actual, hemos encontrado el edificio, pero tenemos que localizar un punto concreto: la entrada.</p>

<p>Un edificio, dado que generalmente es un polígono visto desde el mapa, se define como una &ldquo;entrada&rdquo;. Sin embargo, una entrada suele ser sólo un punto en el mapa, un punto con una ubicación específica. Entonces, ¿cómo cree que se representan en Overpass? Si has adivinado por <code>node</code>, ¡entonces has acertado!</p>

<p>¿Recuerdas cuando te dije que las &ldquo;vías&rdquo; se definen como una lista ordenada de nodos? Algunos de estos nodos se pueden etiquetar aún más, tomando diferentes valores como entradas. En la siguiente consulta aprenderemos a buscar un nodo específico (una entrada) que forme parte de una <code>vía</code>.</p>
</div><div class="exercise-lesson-instruction"><div class="exercise-lesson-label"> <span>Instructions</span></div> <ol>
<li>Lo primero que tenemos que hacer es buscar un <code>nodo</code> específico que forme parte de una <code>way</code>. El filtro <code>recurse</code> hace justamente eso - te permite encontrar el <code>node</code> de una <code>way</code>.</li>
<li>Para hacer un filtro <code>recurse</code>, necesitas empezar con tu elemento objetivo, y una clave para el elemento fuente dentro de paréntesis. En nuestro ejemplo, nuestro elemento de destino es un <code>node</code>, mientras que nuestro elemento de origen es un <code>way</code>, por lo que necesitamos utilizar la sintaxis <code>nodo(w);</code>.</li>
<li>La importante metáfora del &ldquo;flujo&rdquo; de datos sigue siendo válida para esta consulta. Por ello, tenemos que asegurarnos de que nuestro conjunto <code>way</code> ya está disponible cuando realicemos la consulta de sus nodos. Así que tenemos que colocar la sentencia <code>node(w)</code> después de que la vía está establecido, pero antes de la sentencia <code>out;</code>.</li>
<li>Si intentas ejecutar la consulta ahora (en serio, ¡adelante!), verás un montón de nodos que definen el aspecto de nuestro polígono. Como se ha dicho antes, <code>way</code>s son sólo un montón de <code>node</code>s, y con el filtro <code>recurse</code>, mostramos estos nodos en lugar de la forma real.</li>
<li>Mientras que el filtro <code>recurse</code> <em>recursó</em> a través del <code>way</code> y devolvió los <code>nodos</code> que lo componen, aún necesitamos filtrar más los <code>nodos</code> para mostrar sólo las entradas. Por suerte, podemos utilizar el filtro <code>[entrance=yes]</code> para ello.</li>
<li>Dado que hemos cambiado el conjunto de resultados de salida de una vía a entradas (con <code>node(w)</code>), una sentencia <code>out</code> simple funcionará bien - ¡asegúrate de eliminar el modificador <code>geom</code>!</li>
</ol>
</div></div></div><div class="docs-repl exercise-main"><div class="editor-cover"></div> <textarea>way[&#34;addr:city&#34;=Passau][name=&#34;Wirtschaftswissenschaften (WIWI)&#34;];
out geom;
</textarea><div class="exercise-fail-msg"><div class="message"> <span class="warning">That doesn't seem right!</span> <span class="hint">Usa <code>node(w);</code></span></div></div><div class="exercise-action-bar"><div class="exercise-action-bar-inner winner-bar"><div> <span>Awesome Work!</span> <a href="" class="exercise-action-next">Go to Next Lesson</a></div></div><div class="exercise-action-bar-inner"><div> <a href="#" class="exercise-action-run">Run Query</a> <a href="#" class="exercise-action-reset">Reset Code</a></div></div></div><div class="docs-repl-result output"><iframe src="https://overpass-turbo.eu/map.html?silent" seamless="seamless" frameBorder="0"></iframe><textarea></textarea> <a class="docs-repl-change-output button" href="#">Data</a></div></div><div class="exercise-answer">way[&#34;addr:city&#34;=Passau][name=&#34;Wirtschaftswissenschaften (WIWI)&#34;];
node(w)[entrance=yes];
out;
</div><div class="exercise-regex"></div></div> <script src="//maptimebogota.github.io/learnoverpass//js/vendor.bundle.js"></script> <script src="//maptimebogota.github.io/learnoverpass//js/exercise.bundle.js"></script> </body></html>